<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../../partials/head'); -%>
    <link rel="stylesheet" type="text/css" href="css/rb.css">
    <link rel="stylesheet" type="text/css" href="css/data_table.css">
    <script type="text/javascript" charset="utf8" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.js"></script>
</head>
<body>
    <div class="display_page_body">
        <div class="userLogo">
            <a href='/'>
                <img src="imgs/cc_logo.png"/>
            </a>
        </div>
        <div class="rb_home">
            <div class="rb_home_links" >
                <a href="/">Home</a>
                <a href="/public_rbs">Reset Search</a>
                <a href="/rb_about">About</a>
            </div>
            <div class="rb_home_search">
                <form action="/pub_search" method="post">
                    <label>Search:</label>
                    <input type="search" name="rb_search" required />
                </form>
            </div>
        </div>
        <br>
        <div class="search_results">
            <table class="display" id="test_table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Root Beer</th>
                        <th>Added By</th>
                        <th>Date Added</th>
                        <th>Rating</th>
                        <th># Ratings</th>
                    </tr>
                </thead>
                <tbody>
                    <% for( const rb of rbs ) { %>
                        <tr>
                            <td><%- rb.rank %></td>
                            <td><a href="/public_rb/<%-rb._id %>"><%- rb.name %></a></th>
                            <td><%- rb.user %></td>
                            <td><%- rb.created %></td>
                            <td><%- rb.rating %></td>
                            <td><%- rb.popular %></td>
                        </tr>
                    <% } %>
                </tbody>
            </table>
        </div>
       
    </div>
    <script>
        $(document).ready( function () {
            $('#test_table').DataTable({
                searching: false,
                // lengthMenu: [[10, 20, 50, -1], [10, 20, 50, 'All']],
                pageLength: 20,
                lengthChange: false
            });
        } );
    </script>
    
</body>
</html>